This document describes the problem and the solve.

main target => manually implement IOC 